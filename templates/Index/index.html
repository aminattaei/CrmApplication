{% extends "base.html" %}

{% block title %}Customers List {% endblock title %}




{% block content %}
<h1>Customers List</h1>

{% if user.is_authenticated %}
  <br><br>
  <table class="table table-striped table-bordered">
    <thead class="table-dark">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Full name</th>
        <th scope="col">Email</th>
        <th scope="col">Phone number</th>
        <th scope="col">Company</th>
        <th scope="col">Address</th>
        <th scope="col">Notes</th>
        <th scope="col">Created time</th>
      </tr>
    </thead>
    <tbody>
      {% for customer in customers %}
        <tr>
          <th scope="row"><a href="{% url "Customer_detail" customer.pk %}">{{ customer.id }}</a></th>
          <td>{{ customer.full_name }}</td>
          <td>{{ customer.email }}</td>
          <td>{{ customer.phone|default:"-" }}</td>
          <td>{{ customer.company|default:"-" }}</td>
          <td>{{ customer.address|default:"-" }}</td>
          <td>{{ customer.notes|default:"-" }}</td>
          <td>{{ customer.created_at|date:"Y-m-d H:i" }}</td>
        </tr>
      {% empty %}
        <tr>
          <td colspan="8" class="text-center">Customer not save!</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

  {% else %}
      <h2 style="margin-right: none;">Login or Signup to view information.</h2>    
{% endif %}

<!-----------------LEAD SESSION AREA--------------- -->
<br>
<hr>

  <h2>Leads List</h2>
  <table class="table table-striped table-bordered">
    <thead class="table-dark">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Full name</th>
        <th scope="col">Email</th>
        <th scope="col">Phone number</th>
        <th scope="col">Source</th>
        <th scope="col">Status</th>
      </tr>
    </thead>
    <tbody>
      {% for lead in leads %}
        <tr>
          <th scope="row"><a href="{% url "Lead_detail" lead.pk %}">{{ lead.id }}</a></th>
          <td>{{ lead.full_name }}</td>
          <td>{{ lead.email }}</td>
          <td>{{ lead.phone|default:"-" }}</td>
          <td>{{ lead.source|default:"-" }}</td>
          <td>{{ lead.status|default:"-" }}</td>
        </tr>
      {% empty %}
        <tr>
          <td colspan="8" class="text-center">Lead not save!</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>



<!-----------------Interacton SESSION AREA--------------- -->
<br>
<hr>

  <h2>Interactons List</h2>
  <table class="table table-striped table-bordered">
    <thead class="table-dark">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Contact_date</th>
        <th scope="col">Summary</th>
        <th scope="col">Customer</th>
        <th scope="col">Lead</th>
      </tr>
    </thead>
    <tbody>
      {% for interaction in interactions %}
        <tr>
          <th scope="row"><a href="{% url "Interaction_detail" interaction.pk %}">{{ interaction.id }}</a></th>
          <td>{{ interaction.contact_date }}</td>
          <td>{{ interaction.summary }}</td>
          <td>{{ interaction.customer }}</td>
          <td>{{ interaction.lead }}</td>
          
        </tr>
      {% empty %}
        <tr>
          <td colspan="8" class="text-center">Interactons not save!</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

{% endblock content %}